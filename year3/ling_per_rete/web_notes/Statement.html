<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2024-09-23_Statement</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#statement">Statement</a>
<ul>
<li><a href="#for-of">for of</a></li>
<li><a href="#for-in">for in</a></li>
<li><a href="#etichettare-gli-statement">Etichettare gli statement</a></li>
<li><a href="#throw">throw</a></li>
<li><a href="#try-catch-finally">try-catch-finally</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="statement">Statement</h1>
<p>Gli statement, non producono un valore ma servono a eseguire un determinato comportamento.</p>
<p>Alcune espressioni che hanno dei <em>side effect</em> sono ritenute anche degli statement, l’assegnamento ne è un esempio.</p>
<p>Gli statement più comuni sono quelli che modificano il normale flusso di esecuzione del codice:</p>
<ul>
<li><code>if</code> e <code>switch</code></li>
<li><code>while</code> e <code>for</code></li>
<li><code>break</code>, <code>return</code> e <code>throw</code></li>
</ul>
<p>Gli statement terminano con un <code>;</code>. È possibili racchiudere più statement in un blocco racchiuso tra parentesi graffe in modo che risulti uno statement unico:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token punctuation">{</span>
 x <span class="token operator">=</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">;</span>
 cx <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"cos(π) = "</span> <span class="token operator">+</span> cx<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Questo viene utilizzano nelle istruzioni come <code>if</code> e cicli, i quali richiedono un singolo statatement, cosicché noi possiamo eseguire più sotto-statement in un singolo statement.</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//statement1 which is a statement block</span>
	sub<span class="token operator">-</span>statement1<span class="token punctuation">;</span>
	sub<span class="token operator">-</span>statement2<span class="token punctuation">;</span>
	sub<span class="token operator">-</span>statement3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span>
 statement2
</code></pre>
<p>Possiamo avere anche uno statement vuoto:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token punctuation">;</span>
</code></pre>
<p>che può tranquillamente essere utilizzato ad esempio in cicli senza un <em>body</em>:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token comment">// Initialize an array a</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre>
<h2 id="for-of">for of</h2>
<p>Il <code>for of</code> è un particolare tipo di ciclo for che torna utili con oggetti iterabili (array, stringhe, mappe, insiemi, …)</p>
<h3 id="utilizzo-con-array">Utilizzo con array</h3>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> element <span class="token keyword">of</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   sum <span class="token operator">+=</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
sum        <span class="token comment">// =&gt; 45</span>
</code></pre>
<p>Ad ogni iterazione un elemento dell’oggetto <code>data</code> viene inserito nella variabile <code>element</code>.</p>
<p>Il valore che viene scelto dipende dall’implementazione dell’iteratore, negli array vengono scelti in ordine dall’indice minore all’indice maggiore.</p>
<p>Gli array sono iterati al momento, cioè se all’interno del ciclo appendiamo elementi all’array possiamo andare in loop infinito.</p>
<h3 id="utilizzo-con-oggetti">Utilizzo con oggetti</h3>
<p>Gli oggetti non sono iterabili di default, tentare di utilizzare un <code>for of</code> risulterà in un <code>TypeError</code>.</p>
<p>In alternativa si può utilizzare un metodo globale <code>Object.keys(obj)</code> su cui iterare:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> keys <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   keys <span class="token operator">+=</span> k<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
keys <span class="token comment">// =&gt; "xyz"</span>
</code></pre>
<p><code>Object.keys(obj)</code> ritorna un array contenente i nomi delle proprietà dell’oggetto passato come parametro. Diversamente dagli array in questo caso non viene iterato al momento, quindi aggiungere delle proprietà durante il ciclo non incide sull’iterazione.</p>
<p>Inoltre si può iterare sui valori dell’oggetto usando <code>Object.values(obj)</code>:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   sum <span class="token operator">+=</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
sum <span class="token comment">// =&gt; 6</span>
</code></pre>
<p>Se invece si è interessati ad iterare le coppie chiave-valore si può utilizzare <code>Object.entries(obj)</code>:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pairs <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 pairs <span class="token operator">+=</span> k <span class="token operator">+</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
pairs <span class="token comment">// =&gt; "x1y2z3"</span>
</code></pre>
<h2 id="for-in">for in</h2>
<p>Il <code>for in</code> è un particolare tipo di ciclo for che torna utili con oggetti anche non iterabili.</p>
<p>Il funzionamento è simile al <code>for of</code> ma questo ciclo itera attraverso le proprietà di un oggetto (tranne quelle marcate come non <code>enumerable</code>).</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> p <span class="token keyword">in</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment">// Assign property names of o to variable p</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Print the value of each property</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Ad esempio possiamo inserire in un array tutti i nomi delle proprietà di un oggetto</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token keyword">in</span> o<span class="token punctuation">)</span> <span class="token comment">/* empty */</span><span class="token punctuation">;</span>
</code></pre>
<p>Gli array sono un particolare tipo di oggetto, quindi si può usare <code>for in</code> anche su di loro, ottenendo così gli indici dell’array (e non i suoi valori, per quello va usato <code>for of</code>)</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> a<span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//0 1 2</span>
   
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> element <span class="token keyword">of</span> a<span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// x y z</span>
</code></pre>
<h2 id="etichettare-gli-statement">Etichettare gli statement</h2>
<p>È possibile dare dei nomi (<em>label</em>) agli statement, ovviamente non è molto sensato dare nomi a statement singoli ma piuttosto a blocchi si statement.</p>
<pre class=" language-jsx"><code class="prism  language-jsx">mainloop<span class="token punctuation">:</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>token <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 <span class="token comment">// Code omitted...</span>
	 <span class="token keyword">continue</span> mainloop<span class="token punctuation">;</span> <span class="token comment">// Jump to the next iteration of the named loop</span>
	 <span class="token comment">// More code omitted...</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Può essere utile dare nomi ai cicli quando ci sono dei cicli innestati e si vogliono utilizzare istruzioni come <code>break</code> o <code>continue</code> in riferimento al ciclo più esterno:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token comment">// Label for the outer loop</span>
outerLoop<span class="token punctuation">:</span> 
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Outer loop i: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`  Inner loop j: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>j<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Breaking out of both loops'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span> outerLoop<span class="token punctuation">;</span> <span class="token comment">// Exits both the inner and outer loop</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="throw">throw</h2>
<p>lo statement <code>throw</code> ha la seguente sintassi</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">throw</span> expression<span class="token punctuation">;</span>
</code></pre>
<p>Viene utilizzato per segnalare l’accadimento di un errore o una eccezione.</p>
<p>L’espressione lanciata può essere di qualsiasi tipo, da numero che identifica l’errore ad una stringa che lo descrive.</p>
<p>JavaScript lancia degli errori quando ne incontra e in particolare lancia oggetti appartenenti alla classe <code>Error</code>.</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 <span class="token comment">// If the input argument is invalid, throw an exception!</span>
	 <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x must not be negative"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	 
	 <span class="token comment">// Otherwise, compute a value and return normally</span>
	 <span class="token keyword">let</span> f<span class="token punctuation">;</span>
	 <span class="token keyword">for</span> <span class="token punctuation">(</span>f <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> f <span class="token operator">*=</span> x<span class="token punctuation">,</span> x<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token comment">/* empty */</span> <span class="token punctuation">;</span>
	 <span class="token keyword">return</span> f<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 24</span>
</code></pre>
<p>Quando viene fatto un <code>throw</code>, il normale flusso di esecuzione viene interrotto, e l’interprete salta al più vicino gestore di eccezioni.</p>
<p>I gestori di eccezioni vengono creati con il costrutto <code>try-catch-finally</code>.</p>
<h2 id="try-catch-finally">try-catch-finally</h2>
<p>il costrutto <code>try-catch-finally</code> serve per gestire le eccezioni:</p>
<ul>
<li>il blocco <code>try</code> definisce un insieme di statement dove può essere lanciato un errore.</li>
<li>il blocco <code>catch</code>è il codice che viene eseguito nel caso l’errore si verificasse.</li>
<li>il blocco <code>finally</code> contiene del codice per la pulizia che viene eseguito indipendentemente dal verificarsi dell’errore</li>
</ul>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">try</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre>
<p>In combinazione con il codice del fattoriale precedente possiamo scrivere questo codice:</p>
<pre class=" language-jsx"><code class="prism  language-jsx"><span class="token keyword">try</span> <span class="token punctuation">{</span>
		 <span class="token comment">// Ask the user to enter a number</span>
		 <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"Please enter a positive integer"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 <span class="token comment">// Compute the factorial of the number, assuming the	input is valid</span>
		 <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
		 <span class="token function">alert</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token string">"! = "</span> <span class="token operator">+</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Display the result</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// If the user's input was not valid, we end up here</span>
	   <span class="token function">alert</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Tell the user what the error is</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Si può mettere opzionalmente delle parentesi con un identificati dopo il <code>catch</code>, questo identificato conterrà l’errore, se non si è interessati all’errore si può omettere.</p>

    </div>
  </div>
</body>

</html>
