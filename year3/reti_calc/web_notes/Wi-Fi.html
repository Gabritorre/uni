<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2024-12-11_Wi-Fi</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#wi-fi">Wi-Fi</a>
<ul>
<li><a href="#livello-fisico">Livello fisico</a></li>
<li><a href="#livello-datalink">Livello datalink</a></li>
<li><a href="#data-frame">Data frame</a></li>
<li><a href="#access-control">Access control</a></li>
<li><a href="#csmaca">CSMA/CA</a></li>
<li><a href="#il-meccanismo-rtscts">Il Meccanismo RTS/CTS</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="wi-fi">Wi-Fi</h1>
<p>Descriviamo adesso lo standard <strong>IEEE 802.11</strong>, comunemente noto come <strong>Wi-Fi</strong>.</p>
<p>Questo standard, descrive il livello fisico e di collegamento per le <strong>comunicazioni wireless</strong>.</p>
<p>Lo standard 802.11 è in continua evoluzione. Ogni aggiornamento utilizza una lettera o una coppia di lettere per identificarlo.</p>
<p>La <strong>Wi-Fi Alliance</strong> è una organizzazione che da dei nomi commerciali alle versioni Wi-Fi.</p>

<table>
<thead>
<tr>
<th>Versione dello Standard</th>
<th>Anno</th>
<th>Frequenza (GHz)</th>
<th>Velocità Massima (Mbps)</th>
<th>Nome Commerciale</th>
</tr>
</thead>
<tbody>
<tr>
<td>802.11</td>
<td>1996</td>
<td>2.4</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>802.11b</td>
<td>1999</td>
<td>2.4</td>
<td>11</td>
<td></td>
</tr>
<tr>
<td>802.11a</td>
<td>1999</td>
<td>5</td>
<td>54</td>
<td></td>
</tr>
<tr>
<td>802.11g</td>
<td>2004</td>
<td>2.4</td>
<td>54</td>
<td></td>
</tr>
<tr>
<td>802.11n</td>
<td>2009</td>
<td>2.4 / 5</td>
<td>600</td>
<td>Wi-Fi 4</td>
</tr>
<tr>
<td>802.11ac</td>
<td>2013</td>
<td>5</td>
<td>6700</td>
<td>Wi-Fi 5</td>
</tr>
<tr>
<td>802.11ax</td>
<td>2020</td>
<td>1 - 7.125</td>
<td>9600</td>
<td>Wi-Fi 6</td>
</tr>
<tr>
<td>802.11be</td>
<td>2024</td>
<td>2.4, 5, 6</td>
<td>46000</td>
<td>Wi-Fi 7</td>
</tr>
</tbody>
</table><h2 id="livello-fisico">Livello fisico</h2>
<p>Il livello fisico del Wi-Fi si occupa della trasmissione e ricezione dei segnali radio.</p>
<h3 id="frequenze"><strong>Frequenze</strong></h3>
<p>Il Wi-Fi opera principalmente su frequenze libere (senza licenza), chiamate bande ISM (<em>Industrial, Scientific and Medical</em>).</p>
<p>Le bande di frequenza più utilizzate sono <strong>2,4 GHz</strong> (precisamente nel range <code>2,4 - 2,4835</code> GHz) e <strong>5 GHz</strong> (precisamente nel range <code>5,17 - 5,33</code> GHz; <code>5,49 - 5,71</code> GHz).</p>
<p>Le bande ISM non sono utilizzate solo da Wi-Fi, quindi sono soggette a interferenze da altri dispositivi che operano sulle stesse frequenze.</p>
<h3 id="canali"><strong>Canali</strong></h3>
<p>Le bande di frequenza sono suddivise in canali, ovvero sottobande che possono essere utilizzate (quasi) indipendentemente tra loro. La banda a <strong>2,4 GHz ha 13 canali</strong>, mentre la banda a <strong>5 GHz ne ha 23</strong> (il numero varia a seconda del paese e delle normative).</p>
<p>Ad esempio possiamo rappresentare i canali a 2.4 GHz nel seguente modo:</p>
<p><img src="https://i.ibb.co/ZcgxK5d/image.png" alt=""></p>
<p>Notiamo come ogni canale è sovrapposto ad altri, solo 3 canali (1, 6, 11) possono essere usati contemporaneamente senza farsi interferenza.</p>
<p>Nel caso più dispostivi si trovino ad usare canali sovrapposti, ci sono dei meccanismi che permettono loro di coordinarsi per evitare di comunicare nello stesso momento.</p>
<p>Avere un numero di canali più alto significa che ci possono essere più dispositivi vicini che possono comunicare senza farsi interferenza.</p>
<p>Gli standard più recenti consentono <strong>l’aggregazione dei canali</strong> (<em>channel bonding</em>). L’aggregazione dei canali aumenta la larghezza di banda disponibile (aumentando la velocità di trasmissione), ma aumenta anche la probabilità di interferenze con le reti vicine.</p>
<p>In questo modo se la rete non ha altre reti vicine può sfruttare la piena banda. Se invece ci sono altre reti vicine la banda viene suddivisa tra loro.</p>
<p><img src="https://i.ibb.co/K2TskGv/Screenshot-1-1.jpg" alt=""></p>
<h2 id="livello-datalink">Livello datalink</h2>
<p>Esistono tre tipi di frame Wi-Fi:</p>
<ul>
<li><strong>Management frame</strong>: non trasportano traffico dati, ma gestiscono le comunicazioni ad esempio l’autenticazione, i frame di associazione e i frame beacon.</li>
<li><strong>Control frame:</strong> gestiscono l’accesso al canale, come i frame RTS/CTS e i frame ACK.</li>
<li><strong>Data frame:</strong> trasportano il traffico dati.</li>
</ul>
<p>Un <strong>BSS</strong> (<em>Basic Service Set</em>) è l’unità più piccola di una rete Wi-Fi, il modello più comune di BSS è quello in cui c’è un <strong>Access Point</strong> <strong>(AP)</strong> con alcuni terminali connessi. Tutto il traffico viene scambiato tra terminali e AP, i terminali non comunicano direttamente tra loro.</p>
<p>Un BSS è identificato da un <strong>BSSID</strong>, un numero di 48 bit che è l’indirizzo MAC dell’AP.</p>
<p>Ogni AP può scegliere un <strong>SSID (Service Set ID)</strong>, un nome testuale per riconoscere il BSS che può essere configurato dall’amministratore di rete (è il nome che si legge quando ci vogliamo connettere a una rete Wi-Fi).</p>
<p>Più BSS possono essere collegati tramite un <strong>DS</strong> (<em>Distribution Service</em>), un cavo di rete tra gli AP.</p>
<p>In questo caso si parla di <strong>ESS</strong> (<em>Extended Service Set</em>). I terminali connessi a un ESS si trovano normalmente sulla stessa sottorete e solitamente gli AP appartenenti all’ESS condividono lo stesso SSID.</p>
<p><img src="https://i.ibb.co/0Rj0ZZyk/ESS.png" alt=""></p>
<h3 id="entrare-in-una-rete">Entrare in una rete</h3>
<p>Ogni AP emette periodicamente dei <strong>frame beacon</strong> contenenti informazioni sulla rete (tra cui BSSID e SSID). Un terminale che desidera unirsi alla rete deve eseguire tre passaggi:</p>
<ul>
<li><strong>scansione</strong>: Il terminale può eseguire una <strong>scansione passiva</strong>, ascoltando i beacon su ciascun canale, o una <strong>scansione attiva</strong>, inviando un frame <code>Probe-Request</code> su tutti i canali, a cui gli AP rispondono con un <code>Probe-Response</code>.</li>
<li><strong>autenticazione</strong>: per creare un canale sicuro tra il terminale e la rete</li>
<li><strong>associazione</strong>: per associare il terminale allo specifico AP della rete. Se successivamente il terminale si sposta verso una altro AP è solo necessario fare l’associazione e non l’autenticazione</li>
</ul>
<p>Nelle prime versioni di Wi-Fi autenticazione e associazione erano molto insicure, e per retrocompatibilità le versioni più recenti le fanno comunque ma senza una reale utilità perché il <strong>processo di autenticazione vero e proprio viene fatto successivamente con meccanismi più sicuri</strong>.</p>
<h2 id="data-frame">Data frame</h2>
<p>L’header di un frame di dati Wi-Fi è composto come segue</p>
<p><img src="https://i.ibb.co/K0Vm6rD/image.png" alt=""></p>
<ul>
<li><strong>Frame control</strong>: indica il tipo di frame (Management, Control, Data) e anche il particolare sottotipo</li>
<li><strong>Duration</strong>: usato per la ritrasmissione del frame</li>
<li><strong>Tre indirizzi</strong>: sono indirizzi MAC rispettivamente dell’AP, del terminale sorgente e del terminale di destinazione</li>
<li><strong>Sequence control</strong>: identifica il frame</li>
<li><strong>Payload</strong>: dati effettivi del frame</li>
<li><strong>CRC</strong>: checksum</li>
</ul>
<p>Quando pacchetti IP vengono incapsulati in frame Wi-Fi viene utilizzato <strong>l’header LLC</strong> che indica quale tipo di pacchetto viene usato al livello di rete (IPv4, IPv6, …).</p>
<h2 id="access-control">Access control</h2>
<p>Il livello datalink ha l’obiettivo di coordinare l’accesso al canale condiviso per evitare collisioni.</p>
<p>Una <strong>collisione</strong> si verifica quando un <strong>ricevitore</strong> riceve due o più frame (segnali radio) contemporaneamente, impedendo una corretta ricezione di questi.</p>
<p>Il mittente non è a conoscenza delle collisioni, perché <strong>avvengono sul lato del ricevitore</strong>. Per confermare la consegna frame, il ricevitore invia un ACK. Se un mittente non riceve un ACK entro un certo tempo, presume che ci sia stata una collisione.</p>
<p>Per evitare le collisioni si usa il <strong>Carrier Sensing</strong>, cioè il terminale, prima di trasmettere, verifica se qualcun altro sta già trasmettendo. In particolare il Wi-Fi usa <strong>CSMA/CA (Carrier Sensing Multiple Access / Collision Avoidance)</strong>, cioè coordinare l’<strong>accesso multiplo</strong> alla stessa risorsa (il canale) basato sul <em>carrier sensing</em> e che cerca di evitare le collisioni.</p>
<p>Il trasmettitore deve quindi essere in grado di capire qual è l’attuale <strong>stato del canale</strong>: <em>idle</em> (libero) oppure <em>busy</em> (occupato).</p>
<p>L’obiettivo del livello MAC è di <strong>massimizzare l’efficienza:</strong> cioè massimizzare il tempo in cui il canale è occupato rispetto a quando è libero.</p>
<p>Esistono due modalità per coordinare l’accesso: <strong>PCF (Point Coordination Function)</strong> e <strong>DCF (Distributed Coordination Function)</strong>:</p>
<ul>
<li>Il <strong>PCF</strong> è una modalità di coordinamento in cui l’AP assegna intervalli di tempo per la trasmissione a ciascun terminale. Questo approccio è simile al TDMA e non viene quasi mai utilizzato.</li>
<li>Il <strong>DCF</strong> implementa uno schema di accesso casuale simile ad ALOHA.</li>
</ul>
<h2 id="csmaca">CSMA/CA</h2>
<p>Vediamo come funziona il coordinamento CSMA/CA, che usa DCF, costruendo il livello MAC step-by-step.</p>
<p>Un host che vuole trasmettere ascolta il canale. Se il canale è libero, aspetta un intervallo di tempo <strong>DIFS</strong> (DCF Inter Frame Space) per vedere se qualcun altro vuole trasmettere prima.</p>
<ul>
<li>
<p>Se qualcuno trasmette prima, allora leggo nell’header del frame il campo <code>duration</code> che mi indica per quanto tempo il canale rimarrà occupato per quel frame.</p>
<p>Nel campo <code>duration</code> di un frame, si tiene in considerazione sia il tempo di trasmissione che il tempo necessario per ricevere l’ACK dal destinatario.</p>
</li>
<li>
<p>Se il canale rimane libero per la durata del DIFS, l’host trasmette il suo frame.</p>
</li>
</ul>
<p>Il ricevitore, dopo aver ricevuto il frame e averne verificato il checksum, attende un breve intervallo di tempo chiamato <strong>SIFS</strong> (Short Inter Frame Space) e invia un ACK se il pacchetto non contiene errori.</p>
<p><img src="https://i.ibb.co/NYNBY9d/image.png" alt=""></p>
<p>Notare come dal momento della trasmissione si ha un <strong>tempo di volo</strong> (<em>flight time</em>) che serve alle onde radio per arrivare fisicamente al ricevitore.</p>
<p>Ogni frame include nell’header il campo <code>duration</code> che contiene il <strong>NAV</strong> (<em>Network Allocation Vector</em>) che specifica la durata della trasmissione del pacchetto e la ricezione dell’ACK. Tutti i terminali nel raggio di ricezione del frame, leggendo l’header, conoscono il valore di NAV e sanno che non potranno trasmettere per quel periodo di tempo.</p>
<p>Vediamo un esempio con <strong>due trasmettitori</strong>:</p>
<p><img src="https://i.ibb.co/2k777sm/image.png" alt=""></p>
<p>In questa situazione i dati di T2 sono arrivati a T1 prima che esso finisca il suo DIFS, quindi T1 si mette in attesa che termini lo scambio dei dati.</p>
<p>Se però i due terminali decidono di <strong>trasmettere quasi contemporaneamente</strong>, a <strong>causa del tempo di volo</strong>, i dati del primo che trasmette arrivano all’altro dopo che il suo DIFS è finito (cioè quando <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi><mo>&lt;</mo></mrow><annotation encoding="application/x-tex">\delta &lt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.73354em; vertical-align: -0.0391em;"></span><span class="mord mathnormal" style="margin-right: 0.03785em;">δ</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span></span></span></span></span> <em>flight time</em>), causando una <strong>collisione sul ricevitore</strong>.</p>
<p><img src="https://i.ibb.co/mywrp6v/image.png" alt=""></p>
<p>Vediamo come T2 inizia a trasmettere e mentre i dati stanno per raggiungere T1, anche T1 inizia a trasmettere, causando così una collisione sul ricevitore R.</p>
<p>Il ricevitore si accorge della collisione quando calcolerà il CRC, e di conseguenza non manderà nessun ACK.</p>
<p>Questo è un caso abbastanza sfortunato perché il tempo di volo solitamente è nell’ordine dei nano secondi.</p>
<p>Vediamo un caso di collisione più probabile, con <strong>tre trasmettitori</strong>:</p>
<p><img src="https://i.ibb.co/XVQrYLh/image.png" alt=""></p>
<p>In questo caso T2 trasmette, T1 e T3 ricevono in tempo il frame e decidono di ritardare la loro trasmissione in base al capo <code>duration</code> del frame che hanno ricevuto. Quando però arriva il loro momento di trasmettere, trasmettono immediatamente entrambi causando una collisione sul ricevitore.</p>
<p>Questa situazione è molto comune in reti LAN in cui tutti gli host ricevono i frame praticamente nello stesso momento.</p>
<p>Per evitare la sincronizzazione sulle ritrasmissioni, si introduce un <strong>tempo di attesa casuale</strong>:</p>
<p>Quando il canale ritorna ad essere libero, ogni trasmettitore attende un tempo casuale chiamato <strong>backoff</strong> in un intervallo <code>[0, CW]</code> (CW sta per <em>Collision Window</em>).</p>
<ul>
<li>Se il timer di un trasmettitore scade e il canale è libero, la stazione può trasmettere.</li>
<li>Se un trasmettitore riceve un frame prima che il suo timer scada, il canale diventa occupato e il trasmettitore <strong>mette in pausa il timer</strong> fino a quando il canale non torna libero.</li>
</ul>
<p>Vediamo come funziona nella seguente immagine:</p>
<p><img src="https://i.ibb.co/SmQCQkM/image.png" alt=""></p>
<p>In questo caso T2 trasmette, T1 e T3 ricevono in tempo il frame e attendono il tempo specificato in <code>duration</code> più un <strong>tempo random</strong>. T1 sceglie un tempo minore e quindi trasmette prima, T3 quando riceve il frame di T1 mette in pausa il suo timer e attende la <code>duration</code>, appena si libera il canale fa proseguire il suo timer e quando scade inizia a trasmettere.</p>
<p>In questo modo le <strong>collisioni</strong> sono ridotte ma sono <strong>comunque possibili</strong> (ad esempio se l’intervallo di tempo tra i timer casuali è minore del tempo di volo).</p>
<p>In generale i <strong>timer casuali riducono le collisioni, ma sprecano anche risorse e riducono l’efficienza</strong>.</p>
<h3 id="binary-exponential-backoff">Binary exponential backoff</h3>
<p>È evidente che più trasmettitori ci sono nella rete più sono probabili le collisioni.</p>
<p>Con <strong>tanti trasmettitori bisogna aumentare la finestra</strong> <code>[0, CW]</code> su cui vengono scelti i tempi random in modo da ridurre la possibilità che due trasmettitori scelgano tempi vicini.</p>
<p>Allo stesso modo con <strong>pochi trasmettitori</strong> si vuole avere una <strong>finestra piccola</strong> per evitare attese inutili e migliorare l’efficienza.</p>
<p>Per implementare questo meccanismo in modo dinamico si utilizza una strategia chiamata <em><strong>Binary exponential backoff.</strong></em></p>
<p>Ogni volta che una trasmissione fallisce (non viene ricevuto l’ACK) il mittente cambia la propria grandezza della finestra, in particolare:</p>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">CW</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span></span></span></span></span> <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">CW</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span></span></span></span></span><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><msub><mi>W</mi><mi>i</mi></msub><mo>=</mo><mn>2</mn><mo>⋅</mo><mi>C</mi><msub><mi>W</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">CW_i = 2 \cdot CW_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.891661em; vertical-align: -0.208331em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.208331em;"><span class=""></span></span></span></span></span></span></span></span></span></span> fino a un massimo di <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><msub><mi>W</mi><mi>max</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">CW_{\max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></p>
<p>Inizialmente il valore viene impostato ad un valore minimo <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>C</mi><msub><mi>W</mi><mi>min</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">CW_1 = CW_{\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317502em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>.</p>
<p>(<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>min</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">C_{\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317502em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> e <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>max</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">C_{\max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> sono dei parametri definiti dal sistema)</p>
<p>Dopo una trasmissione riuscita, <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">CW</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span></span></span></span></span> viene resettato a <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><msub><mi>W</mi><mi>min</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">CW_{\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.317502em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>.</p>
<h2 id="il-meccanismo-rtscts"><strong>Il Meccanismo RTS/CTS</strong></h2>
<p>C’è una situazione particolare in cui Il meccanismo appena descritto non funziona, cioè il caso in cui i due terminali non ricevono i frame dell’altro (a causa di un ostacolo fisico che non permette alle onde elettromagnetiche di passare) e quindi <strong>non riescono a sapere quando il canale è occupato</strong>.</p>
<p><img src="https://i.ibb.co/CmJmhCd/image.png" alt=""></p>
<p>In questa situazione entrambi pensano che il canale sia libero e trasmettono, causando collisioni sul ricevitore.</p>
<p>Per risolvere il problema, DCF utilizza un meccanismo <strong>RTS/CTS (Request to Send/Clear to Send)</strong>:</p>
<p>Se A vuole trasmettere, invia prima un messaggio RTS. Se l’Access Point non sta comunicando con nessun altro allora invia un messaggio CTS in cui dà il permesso di trasmettere, e contemporaneamente comunica a tutti gli altri nodi della rete che per una certa durata NAV il canale sarà occupato. L’RTS infatti contiene un NAV che copre la durata dell’intera trasmissione dati (incluso l’ACK).</p>
<p>Anche se non tutti i terminali ricevono l’RTS, tutti riceveranno invece il CTS dall’AP e quindi sapranno che il canale è occupato per il tempo specificato dal NAV.</p>
<p><img src="https://i.ibb.co/XXgZwH1/image.png" alt=""></p>
<p>RTS/CTS aumenta il tempo di attesa prima della trasmissione, riducendo il bit rate. Viene quindi utilizzato principalmente per l’invio di frame di grandi dimensioni.</p>

    </div>
  </div>
</body>

</html>
