<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2024-09-24_Livello di collegamento</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#livello-di-collegamento">Livello di collegamento</a>
<ul>
<li><a href="#bit-stuffing">Bit stuffing</a></li>
<li><a href="#notificare-i-frame">Notificare i frame</a></li>
<li><a href="#macchina-a-stati">Macchina a stati</a></li>
<li><a href="#riconoscimento-degli-errori">Riconoscimento degli errori</a></li>
<li><a href="#bit-di-parità">Bit di parità</a></li>
<li><a href="#ip-checksum">IP checksum</a></li>
<li><a href="#funzioni-aggiunte-al-data-link-layer">Funzioni aggiunte al data link layer</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="livello-di-collegamento">Livello di collegamento</h1>
<p>Il livello di collegamento (<em>data link layer</em>) ha il compito di dividere i dati in <em><strong>frame</strong></em>, possiamo definire un frame come una sequenza di bit che hanno una particolare struttura e una lunghezza limitata, rappresenta l’unità base di informazione che si scambiano due host.</p>
<p>Le limitazioni del livello fisico (desincronizzazione e disturbo) obbliano il livello di collegamento a codificare i frame in modo da gli errori di comunicazione.</p>
<h2 id="bit-stuffing">Bit stuffing</h2>
<p>Un problema, ad esempio, è far capire al ricevitore quando inizia e quando finisce il frame.</p>
<p>Quello che possiamo fare è usare delle stringhe di bit particolare per delimitare l’inizio e la fine del frame, ad esempio la stringa <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>01111110</mn></mrow><annotation encoding="application/x-tex">01111110</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">01111110</span></span></span></span></span>, che possiamo chiamare <em>frame boundary maker</em>.</p>
<p>Il mittente potrebbe però voler inserire tale stringa all’interno del proprio messaggio, ma verrebbe interpretata come la fine del frame.</p>
<p>Il <strong>bit stuffing</strong> è una codifica che si occupa di evitare che ciò accada con i seguenti passaggi:</p>
<ol>
<li>Viene trasmesso il marker di inizio frame <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>01111110</mn></mrow><annotation encoding="application/x-tex">01111110</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">01111110</span></span></span></span></span></li>
<li>Trasmette i bit del frame aggiungendo uno <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> dopo ogni sequenza di cinque <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> consecutivi</li>
<li>Viene trasmesso il marker di fine frame <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>01111110</mn></mrow><annotation encoding="application/x-tex">01111110</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">01111110</span></span></span></span></span></li>
</ol>
<p>Il ricevitore decodificherà di conseguenza nel seguente modo:</p>
<ol>
<li>Riconosce l’inizio del frame tramite il marker <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>01111110</mn></mrow><annotation encoding="application/x-tex">01111110</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">01111110</span></span></span></span></span></li>
<li>Processa i bit del frame:
<ol>
<li>se incontra cinque bit a <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> seguiti da uno <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>, allora quello <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> viene rimosso</li>
<li>se incontra cinque bit a <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> seguiti da un altro <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> e poi da uno <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>, allora si tratta del marker di fine frame</li>
</ol>
</li>
</ol>
<p>Un esempio di codifica:</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>01111110</mn><mo>⟶</mo><mn>01111110</mn>  <mn>011111</mn><mtext mathvariant="bold">0</mtext><mn>10</mn>  <mn>01111110</mn></mrow><annotation encoding="application/x-tex">
01111110 \longrightarrow 01111110\,\,011111\textbf{0}10\,\,01111110
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.65544em; vertical-align: -0.011em;"></span><span class="mord">01111110</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">01111110</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">011111</span><span class="mord text"><span class="mord textbf">0</span></span><span class="mord">10</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">01111110</span></span></span></span></span></span></p>
<p>Questa codifica però provoca un <strong>protocol overhead</strong>: cioè dati extra trasmessi per rendere la comunicazione possibile, riducendo così il bit-rate disponibile calcolato con Shannon e Nyquist.</p>
<p>In particolare abbiamo 16 bit per i marker e con stringhe formate da molti <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> vanno inseriti molti <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> per evitare che vengano interpretati come fine frame.</p>
<p>D’altra parte più lunghi sono i marker, più è grande l’overhead fisso ma meno saranno i bit stuffed, per compensare bisognerebbe aumentare la grandezza dei frame per evitare di avere più bit di overhead che bit utili.</p>
<p>Tutti questi bit aggiunti vanno poi scartati dal ricevitore. Inoltre gli errori del livello fisico possono accadere proprio sui marker o sui <em>bit stuffed</em> provocando gravi errori nella decodifica.</p>
<p>Definiamo <strong>BER</strong> (<em>Bit Error Rate</em>) come la probabilità che un singolo bit sia decodificato in modo errato</p>
<p>Nelle reti moderne la tecnica del <em>bit stuffing</em> non è utilizzata, si utilizza piuttosto un <em>frame preamble</em>, cioè un header che marca l’inizio del frame e che contiene varie informazioni tra cui quanto è lungo il frame stesso, così da non avere un marker di fine frame e di conseguenza non si ha bisogno del <em>bit stuffing</em>.</p>
<p><img src="https://i.ibb.co/4Fcsdqq/image.png" alt="https://i.ibb.co/4Fcsdqq/image.png"></p>
<p>Nell’immagine si vede come i livelli interagiscono:</p>
<ul>
<li>Un livello superiore fa una chiamata API (<code>DATA.req(1…1)</code>) al livello data link richiedendo di inviare una sequenza di bit</li>
<li>Il livello data link si occupa di codificare il frame (ad esempio usando la tecnica del <em>bit stuffing</em>) e fa delle chiamate API (<code>DATA.req(0)</code> …) al livello fisico che si occuperò di inviare fisicamente i bit richiesti</li>
<li>il destinatario farà il percorso al contrario, quindi sarà il layer fisico a ricevere dei dati e a fare delle chiamate API al livello data link, il quale a sua volta decodifica i bit ricevuti e farà delle chiamate API al livello superiore</li>
</ul>
<p>È importante notare come ogni livello si occupa dei suoi compiti e non sa che cosa fanno gli altri livelli</p>
<h2 id="notificare-i-frame">Notificare i frame</h2>
<p>Dato che l’applicazione del mittente, l’applicazione del destinatario e il mezzo fisico possono avere dei tempi di funzionamento molto diversi, è possibile che si verifichino problemi nel caso in cui un host mandi dei dati troppo velocemente da non permettere al destinatario di processarli in tempo.</p>
<p>L’uso di <strong>buffer</strong> può aiutare ma si possono comunque riempire. È quindi necessario implementare un sistema per cui il ricevitore possa inviare dei messaggi di “ricevuto pacchetto correttamente” al mittente, tali messaggi sono chiamati ACK (<em>acknowledgment</em>).</p>
<p>Ogni frame dovrà quindi essere formato da un <em><strong>header</strong></em>, per capire se si tratta di un frame dati o un frame di <em>acknowledgment</em>, e da un <em><strong>payload</strong></em>, che contiene i dati effettivi.</p>
<p>Ci riferiamo a SDU (<em>Service Data Unit</em>) come termine generico contenente i dati utili da trasmettere, che vengono passati tra i vari livelli dello stack protocollare.</p>
<p>D’ora in poi usiamo queste definizioni per le API:</p>
<ul>
<li><code>DATA.req(SDU)</code>: comunicazione dal livello superiore verso il data link layer</li>
<li><code>DATA.ind(SDU)</code>: comunicazione dal livello data link layer verso il livello superiore</li>
<li><code>send(D(SDU))</code> ,<code>send(C(OK))</code>: trasmissione dei dati dal data link layer locale verso il data link layer remoto</li>
<li><code>recvd(D(SDU))</code>, <code>recvd(C(OK))</code>: ricezione dei dati provenienti dal link layer remoto</li>
</ul>
<p>Le <code>send</code> e le <code>recvd</code>sono di due tipi:</p>
<ul>
<li>la <code>D</code> sta per “Data” e indica l’invio o la ricezione dei dati</li>
<li>la <code>C</code> sta per “Control” e indica l’invio o la ricezione di messaggi di <em>acknowledgment</em></li>
</ul>
<p><img src="https://i.ibb.co/vjHgFWw/image.png" alt="https://i.ibb.co/vjHgFWw/image.png"></p>
<h2 id="macchina-a-stati">Macchina a stati</h2>
<p>Possiamo rappresentare il data link layer come una macchina a stati finiti, composta da 2 stati per il mittente e 2 stati per il ricevitore</p>
<p><img src="https://i.ibb.co/b1z2Kvs/image.png" alt="https://i.ibb.co/b1z2Kvs/image.png"></p>
<ul>
<li>I cerchi rappresentano gli stati</li>
<li>gli archi rappresentano il cambio di stato</li>
<li>associati gli archi abbiamo due etichette:
<ul>
<li>l’etichetta che sta in alto rappresenta l’evento che innesca il cambio di stato (quando viene indicato <code>-</code> significa che l’azione all’interno dello stato attuale ha finito e si cambia stato)</li>
<li>l’etichetta che sta in basso rappresenta l’evento che viene propagato durante il cambio di stato (quando viene indicato <code>-</code> significa che nessun evento viene propagato)</li>
</ul>
</li>
</ul>
<h2 id="riconoscimento-degli-errori">Riconoscimento degli errori</h2>
<p>Il precedente sistema funziona correttamente sotto l’assunzione che non ci possano essere errori sui frame, ma il layer fisico può subire alterazione del tipo: bit invertiti, bit mancanti o bit in più</p>
<p>Vediamo innanzitutto come <strong>riconoscere gli errori</strong> (<em>error detection</em>)</p>
<h2 id="bit-di-parità">Bit di parità</h2>
<p>Questo semplice meccanismo aggiunge un bit finale al frame, detto <strong>bit di parità</strong>, questo bit viene aggiunto in modo da rendere il numero totale di <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> nel frame pari (oppure dispari).</p>
<p>Se ci accordiamo che il numero di bit uguali a <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> deve essere pari, allora le seguenti stringhe si trasformano così:</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>0011011</mn><mo>⟶</mo><mn>0011011</mn><mtext mathvariant="bold">0</mtext><mspace linebreak="newline"></mspace><mn>0100011</mn><mo>⟶</mo><mn>0100011</mn><mtext mathvariant="bold">1</mtext></mrow><annotation encoding="application/x-tex">
0011011 \longrightarrow 0011011\textbf{0} \\
0100011 \longrightarrow 0100011\textbf{1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.65544em; vertical-align: -0.011em;"></span><span class="mord">0011011</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0011011</span><span class="mord text"><span class="mord textbf">0</span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.65544em; vertical-align: -0.011em;"></span><span class="mord">0100011</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0100011</span><span class="mord text"><span class="mord textbf">1</span></span></span></span></span></span></span></p>
<p>a livello computazionale il bit di parità (con numero di <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> pari) è dato dalla somma dei bit in modulo 2</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Parity&nbsp;bit</mtext><mo>=</mo><mo stretchy="false">(</mo><mn>0</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>0</mn><mo>+</mo><mn>0</mn><mo>+</mo><mn>0</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mspace></mspace><mspace width="1em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow>  <mn>2</mn><mo>=</mo><mspace linebreak="newline"></mspace><mo>=</mo><mo stretchy="false">(</mo><mn>11</mn><mo stretchy="false">)</mo><mspace></mspace><mspace width="1em"></mspace><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow>  <mn>2</mn><mo>=</mo><mn>1</mn><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">
\text{Parity bit} = (0 + 1 + 0 + 0 + 0 + 1 + 1) \mod{2}=\\
=(11) \mod{2}=1\\
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord text"><span class="mord">Parity&nbsp;bit</span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right: 1em;"></span></span><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">11</span><span class="mclose">)</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right: 1em;"></span></span><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span><span class="mspace newline"></span></span></span></span></span></p>
<p>Nota: l’operazione di modulo 2 equivale a prendere il valore del bit meno significativo (quello più a destra)</p>
<p>Assumendo di usare una parità pari, quello che fa il ricevitore quando riceve la stringa è quello di controllare la quantità di <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>: se essi sono pari allora non ci sono errori, se invece sono dispari ci sono degli errori.</p>
<p>In assenza di errori verrà rimosso il bit di parità e verrà passato l’SDU al livello superiore.</p>
<p>In caso di errori il data link layer può richiedere il frame o semplicemente ignorarlo.</p>
<p><strong>Limiti</strong>: in caso di errori pari, questo sistema non si accorge degli errori, inoltre l’errore può subirlo proprio il bit di parità</p>
<h2 id="ip-checksum">IP checksum</h2>
<p>Nel data link layer viene usato un altro sistema di riconoscimento degli errori chiamato CRC (<em>Cyclic Redundancy Check</em>) un complicato sistema che funziona bene.</p>
<p>Data la sua complicatezza vediamo un altro sistema basato sulla checksum che viene usato a livello IP dello stack protocollare, ma sarà utile per capire il concetto di <strong>checksum</strong>.</p>
<p>Con <strong>checksum</strong> si intende la somma aritmetica di tutti i bit di cui il frame è composto.</p>
<p>l’<strong>IP checksum</strong> (o <em>internet checksum</em>) è un campo di 16bit ottenuto dal complemento a 1 della somma in complemento a 1 di tutte le parole di 16bit</p>
<p>Il <strong>complemento a 1</strong> di una stringa di bit è dato dall’inversione di tutti i bit</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>110110</mn><mo>⟶</mo><mn>001001</mn></mrow><annotation encoding="application/x-tex">
110110 \longrightarrow 001001
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.65544em; vertical-align: -0.011em;"></span><span class="mord">110110</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">001001</span></span></span></span></span></span></p>
<p>La <strong>somma in complemento a 1</strong> (che indichiamo con <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo>+</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">+'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.835222em; vertical-align: -0.08333em;"></span><span class="mord"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span> ) è data dalla normale somma binaria, ma se si forma un resto che va oltre la dimensione prefissata della checksum, quel resto va risommato al risultato.</p>
<p>Consideriamo che la checksum ha dimensione 4 bit:</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1100</mn><msup><mo>+</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mn>0010</mn><mo>=</mo><mn>1110</mn><mspace linebreak="newline"></mspace><mn>1100</mn><msup><mo>+</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mn>1010</mn><mo>=</mo><mtext mathvariant="bold">1</mtext><mn>0110</mn><mo>=</mo><mn>1</mn><mo>+</mo><mn>0110</mn><mo>=</mo><mn>0111</mn><mspace linebreak="newline"></mspace><mn>1100</mn><msup><mo>+</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mn>1010</mn><msup><mo>+</mo><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mn>1100</mn><mo>=</mo><mtext mathvariant="bold">10</mtext><mn>0010</mn><mo>=</mo><mn>10</mn><mo>+</mo><mn>0010</mn><mo>=</mo><mn>0100</mn></mrow><annotation encoding="application/x-tex">
1100 +' 0010 = 1110\\
1100 +' 1010 = \textbf{1}0110 = 1 + 0110 = 0111\\
1100 +' 1010 +' 1100 = \textbf{10}0010 = 10 + 0010 = 0100
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.885222em; vertical-align: -0.08333em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.801892em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0010</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1110</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.885222em; vertical-align: -0.08333em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.801892em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1010</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord text"><span class="mord textbf">1</span></span><span class="mord">0110</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0110</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0111</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.885222em; vertical-align: -0.08333em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.801892em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.885222em; vertical-align: -0.08333em;"></span><span class="mord">1010</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.801892em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord text"><span class="mord textbf">10</span></span><span class="mord">0010</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">10</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0010</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0100</span></span></span></span></span></span></p>
<p>Se il riporto si ripresenta anche dopo averlo risommato, bisogna continuare a sommarlo fino a che non rimane nessun riporto.</p>
<p>Vediamo un esempi di calcolo della checksum con parole di lunghezza 4 bit</p>
<p>Stringa: <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1100</mn> <mn>0011</mn> <mn>1010</mn> <mn>1110</mn> <mn>1001</mn></mrow><annotation encoding="application/x-tex">1100\,0011\,1010\,1110\,1001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">0011</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1010</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1110</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1001</span></span></span></span></span></p>
<ol>
<li>calcoliamo la somma in complemento a 1</li>
</ol>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1100</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>0011</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>1010</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>1110</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>1001</mn><mo>=</mo><mspace linebreak="newline"></mspace><mn>110000</mn><mspace width="1.9916929133858268em"></mspace></mrow><annotation encoding="application/x-tex">
1100+\\
0011+\\
1010+\\
1110+\\
1001=\\
110000\hspace{7mm}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0011</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1010</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1110</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1001</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">110000</span><span class="mspace" style="margin-right: 1.99169em;"></span></span></span></span></span></span></p>
<p>sommando il riporto diventa quindi: <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn><mo>+</mo><mn>0000</mn><mo>=</mo><mn>0011</mn></mrow><annotation encoding="application/x-tex">11 + 0000 = 0011</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">11</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0000</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0011</span></span></span></span></span></p>
<ol>
<li>facciamo il complemento a 1 del risultato</li>
</ol>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>0011</mn><mo>⟶</mo><mn>1100</mn></mrow><annotation encoding="application/x-tex">
0011 \longrightarrow 1100
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.65544em; vertical-align: -0.011em;"></span><span class="mord">0011</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1100</span></span></span></span></span></span></p>
<p>quindi la checksum vale: <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1100</mn></mrow><annotation encoding="application/x-tex">1100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1100</span></span></span></span></span></p>
<p>Questo valore verrà aggiunto nel frame dal mittente (in particolare viene messo nell’header), trasformando la stringa iniziale in: <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">1100</mtext> <mn>1100</mn> <mn>0011</mn> <mn>1010</mn> <mn>1110</mn> <mn>1001</mn></mrow><annotation encoding="application/x-tex">\textbf{1100}\,1100\,0011\,1010\,1110\,1001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord text"><span class="mord textbf">1100</span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">0011</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1010</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1110</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1001</span></span></span></span></span></p>
<p>Il ricevitore dovrà semplicemente fare la somma in complemento a 1 della stringa ricevuta (inclusa la checksum) e verificare che il risultato siano tutti <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>, se così non fosse allora ci sarebbe un errore:</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1100</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>1100</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>0011</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>1010</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>1110</mn><mo>+</mo><mspace linebreak="newline"></mspace><mn>1001</mn><mo>=</mo><mspace linebreak="newline"></mspace><mn>111100</mn><mspace width="1.9916929133858268em"></mspace></mrow><annotation encoding="application/x-tex">
1100+\\
1100+\\
0011+\\
1010+\\
1110+\\
1001=\\
111100\hspace{7mm}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0011</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1010</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1110</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1001</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">111100</span><span class="mspace" style="margin-right: 1.99169em;"></span></span></span></span></span></span></p>
<p>sommando il riporto diventa quindi: <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn><mo>+</mo><mn>1100</mn><mo>=</mo><mn>1111</mn></mrow><annotation encoding="application/x-tex">11 + 1100 = 1111</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">11</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1100</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1111</span></span></span></span></span></p>
<p><strong>Limiti</strong>: possiamo comunque avere degli errori che generano una checksum valida, se ad esempio le ultime due parole subissero una alterazione in questo modo:</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1110</mn><mo>→</mo><mn>1</mn><mtext mathvariant="bold">0</mtext><mn>10</mn><mspace linebreak="newline"></mspace><mn>1001</mn><mo>→</mo><mn>1</mn><mtext mathvariant="bold">1</mtext><mn>01</mn></mrow><annotation encoding="application/x-tex">
1110 \rightarrow 1\textbf{0}10\\
1001 \rightarrow 1\textbf{1}01
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1110</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mord text"><span class="mord textbf">0</span></span><span class="mord">10</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1001</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mord text"><span class="mord textbf">1</span></span><span class="mord">01</span></span></span></span></span></span></p>
<p>verrebbe calcolato la stessa identica checksum, non riconoscendo l’errore.</p>
<p><strong>Performance</strong>: la checksum viene fatta tantissime volte al secondo dai router, quindi deve essere un calcolo molto veloce. La somma è vantaggioso per due ragioni:</p>
<ol>
<li>si può computare la somma man mano che arrivano le parole di 16 bit, non serve aspettare che arrivino tutti i dati prima di cominciare</li>
<li>dato che la somma è una operazione associativa, l’ordine in cui si sommano i bit delle parole non importa</li>
</ol>
<h2 id="funzioni-aggiunte-al-data-link-layer">Funzioni aggiunte al data link layer</h2>
<p>Grazie alle modifiche che abbiamo visto, il data link layer possiede:</p>
<ul>
<li><em>Flow control</em>, tramite l’uso di ACK</li>
<li><em>Error detection</em>, tramite checksum</li>
</ul>

    </div>
  </div>
</body>

</html>
